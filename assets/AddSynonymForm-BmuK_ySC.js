import{u as v,r as o,b as N,R as h,j as s,L as _,a as I}from"./index-D37lE6y1.js";import{u as W,a as C,i as D,S as T,E as $,p as O,T as r,b as U,A as S}from"./useFetchData-CRO9oCOF.js";const B=()=>{const g=v(),[c,l]=o.useState(""),[u,m]=o.useState(null),[i,d]=o.useState(null),[y,e]=o.useState(!1),[f,L]=o.useState(!0),R=N(),n=new URLSearchParams(R.search).get("word")||"";n||g(h.SEARCH);const{loading:w,getData:x}=W({url:`${C}/${n.trim()}`,enable:!0,callBack:t=>{var a;e(w),m(t),D(t)?d(null):d((a=t[0])==null?void 0:a.groupId)}}),A=t=>{l(t.target.value.trim()),L(t.target.validity.valid)},j=()=>{e(!0);const t={word:n,synonym:c};O(`${S}`,t).then(a=>{r({text:"The Word and it's Synonym were added with success",type:"success"}),d(a.data.groupId),m(a.data.newSynonym),l("")}).catch(a=>{var p;r({text:(p=a.response)==null?void 0:p.data.error,type:"error"})}).finally(()=>{e(!1)})},E=async()=>{e(!0),U(`${S}/${i}`,{synonym:c}).then(()=>{x(),l(""),r({text:"Synonym was added with success",type:"success"})}).catch(t=>{var a;r({text:(a=t.response)==null?void 0:a.data.error,type:"error"})}).finally(()=>{e(!1)})},b=()=>{i?E():j()};return s.jsx("section",{className:"relative flex justify-center items-center mt-10",children:s.jsxs("div",{className:"flex-1 min-w-[50%] max-w-[80%] flex flex-col card-box",children:[s.jsx(T,{isValid:f,handleChange:A,value:c,label:`Add Synonyms to ${n}`,handleSearchAction:b,buttonText:"Add To List"}),s.jsx(_,{className:"btn",to:h.SEARCH,children:"Back"}),s.jsx(I,{loading:y}),u&&s.jsx(s.Fragment,{children:s.jsx($,{word:n,synonyms:u,isLoading:y,setIsLoading:e,searchWord:x,groupId:i})})]})})};export{B as default};
