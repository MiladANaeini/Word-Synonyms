import{u as b,r as n,b as C,R as h,j as o,L as O,a as j}from"./index-DTL8e0NL.js";import{u as v,a as I,i as N,S as W,E as D,p as U,T as r,b as $,c as P,A as g,d as k}from"./useFetchData-DDilxn1w.js";const V=()=>{const x=b(),[c,d]=n.useState(""),[u,y]=n.useState(null),[l,i]=n.useState(null),[S,s]=n.useState(!1),[R,A]=n.useState(!0),L=C(),e=new URLSearchParams(L.search).get("word")||"";e||x(h.SEARCH);const{loading:E,getData:m}=v({url:`${I}/${e.trim()}`,enable:!0,callBack:a=>{var t;s(E),y(a),N(a)?i(null):i((t=a[0])==null?void 0:t.groupId)}}),f=a=>{d(a.target.value.trim()),A(a.target.validity.valid)},w=()=>{s(!0);const a={word:e,synonym:c};U(`${g}`,a).then(t=>{r({text:"The Word and it's Synonym were added with success",type:k}),i(t.data.groupId),y(t.data.newSynonym),d("")}).catch(t=>{var p;r({text:(p=t.response)==null?void 0:p.data.error,type:$})}).finally(()=>{s(!1)})},T=async()=>{s(!0),P(`${g}/${l}`,{synonym:c}).then(()=>{m(),d(""),r({text:"Synonym was added with success",type:"success"})}).catch(a=>{var t;r({text:(t=a.response)==null?void 0:t.data.error,type:"error"})}).finally(()=>{s(!1)})},_=()=>{l?T():w()};return o.jsxs("div",{className:"mt-10 card-box",children:[o.jsx(W,{isValid:R,handleChange:f,value:c,label:`Add Synonyms to ${e}`,handleSearchAction:_,buttonText:"Add To List"}),o.jsx(O,{className:"btn",to:h.SEARCH,children:"Back"}),o.jsx(j,{loading:S}),u&&o.jsx(D,{word:e,synonyms:u,isLoading:S,setIsLoading:s,searchWord:m,groupId:l})]})};export{V as default};
